name: Basic Workflow develop

# trigger
on:
    push:
        branches:
            - main

jobs:
    run-unit-test-job:
        runs-on: ubuntu-latest
        steps:
            - name: Clone Source Code to runner
              uses: actions/checkout@v5

            - name: intall dependencies
              run: npm i

            - name: run unit test
              run: npm run test

    build-docker-image-and-push:
        runs-on: ubuntu-latest
        needs: run-unit-test-job
        steps:
            - name: Clone Source Code to runner
              uses: actions/checkout@v5

        # - build docker image
        # - tag docker image with version
        # - login to docker hub
        # - push docker image

    # 3 deploy to vps
        # - ssh connection to vps
        # - pull docker image
        # - run docker container